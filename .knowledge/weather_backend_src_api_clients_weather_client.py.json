{"is_source_file": true, "format": "Python", "description": "This Python module provides an asynchronous client for fetching weather data from the Open-Meteo API, with caching to reduce redundant requests. It includes functions to get current weather and forecast data for specified coordinates, with internal caching mechanisms and utilities for parameter normalization.", "external_files": ["src.api.config.settings"], "external_methods": ["settings.cache_ttl_seconds", "settings.http_timeout_seconds"], "published": ["get_current_weather", "get_forecast"], "classes": [], "methods": [{"name": "Optional[Any] _cache_get(key: Tuple[str, Tuple[Tuple[str, Any], ...]])", "description": "Retrieves cached data if the TTL has not expired.", "scope": "", "scopeKind": ""}, {"name": "None _cache_set(key: Tuple[str, Tuple[Tuple[str, Any], ...]], data: Any)", "description": "Stores data in cache with current timestamp.", "scope": "", "scopeKind": ""}, {"name": "Tuple[str,Tuple[Tuple[str,Any],...]] _params_to_key(endpoint: str, params: Dict[str, Any])", "description": "Converts API request parameters to a normalized, hashable cache key.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] get_current_weather(lat: float, lon: float)", "description": "Fetches current weather data asynchronously for given latitude and longitude.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] get_forecast(lat: float, lon: float, days: int = 3)", "description": "Fetches weather forecast asynchronously for given latitude, longitude, and number of days.", "scope": "", "scopeKind": ""}, {"name": "Tuple[Optional[str],Optional[str]] _weathercode_to_text_icon(code: Optional[int])", "description": "Maps weather code to textual description and icon identifier.", "scope": "", "scopeKind": ""}], "calls": ["httpx.Timeout", "httpx.AsyncClient", "client.get", "resp.raise_for_status", "resp.json", "_cache_get", "_cache_set"], "search-terms": ["weather_client", "Open-Meteo", "cache_ttl_seconds", "get_current_weather", "get_forecast", "async"], "state": 2, "file_id": 7, "knowledge_revision": 25, "git_revision": "", "revision_history": [{"15": ""}, {"25": ""}], "ctags": [{"_type": "tag", "name": "WEATHER_BASE", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^WEATHER_BASE = \"https:\\/\\/api.open-meteo.com\\/v1\\/forecast\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_cache", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^_cache: Dict[Tuple[str, Tuple[Tuple[str, Any], ...]], Tuple[float, Any]] = {}$/", "language": "Python", "typeref": "typename:Dict[Tuple[str, Tuple[Tuple[str, Any], ...]], Tuple[float, Any]]", "kind": "variable"}, {"_type": "tag", "name": "_cache_get", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^def _cache_get(key: Tuple[str, Tuple[Tuple[str, Any], ...]]) -> Optional[Any]:$/", "language": "Python", "typeref": "typename:Optional[Any]", "kind": "function", "signature": "(key: Tuple[str, Tuple[Tuple[str, Any], ...]])"}, {"_type": "tag", "name": "_cache_set", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^def _cache_set(key: Tuple[str, Tuple[Tuple[str, Any], ...]], data: Any) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(key: Tuple[str, Tuple[Tuple[str, Any], ...]], data: Any)"}, {"_type": "tag", "name": "_params_to_key", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^def _params_to_key(endpoint: str, params: Dict[str, Any]) -> Tuple[str, Tuple[Tuple[str, Any], ./", "language": "Python", "typeref": "typename:Tuple[str,Tuple[Tuple[str,Any],...]]", "kind": "function", "signature": "(endpoint: str, params: Dict[str, Any])"}, {"_type": "tag", "name": "_weathercode_to_text_icon", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^def _weathercode_to_text_icon(code: Optional[int]) -> Tuple[Optional[str], Optional[str]]:$/", "language": "Python", "typeref": "typename:Tuple[Optional[str],Optional[str]]", "kind": "function", "signature": "(code: Optional[int])"}, {"_type": "tag", "name": "get_current_weather", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^async def get_current_weather(lat: float, lon: float) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(lat: float, lon: float)"}, {"_type": "tag", "name": "get_forecast", "path": "/home/kavia/workspace/code-generation/weather-companion-215470-215479/weather_backend/src/api/clients/weather_client.py", "pattern": "/^async def get_forecast(lat: float, lon: float, days: int = 3) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(lat: float, lon: float, days: int = 3)"}], "hash": "c37b82b4726731a3ea77edd68d85fc5e", "format-version": 4, "code-base-name": "weather_backend", "filename": "weather_backend/src/api/clients/weather_client.py", "fields": [{"name": "WEATHER_BASE = \"https:\\/\\/api.open-meteo.com\\/v1\\/forecast\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[Tuple[str, Tuple[Tuple[str, Any], ...]], Tuple[float, Any]] _cache", "scope": "", "scopeKind": "", "description": "unavailable"}]}